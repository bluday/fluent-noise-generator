<?xml version="1.0" encoding="utf-8"?>
<Window mc:Ignorable="d"
        x:Class="BluDay.FluentNoiseRemover.Windows.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:communityToolkit="using:CommunityToolkit.WinUI"
        xmlns:communityToolkitControls="using:CommunityToolkit.WinUI.Controls"
        xmlns:controls="using:BluDay.FluentNoiseRemover.Controls"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <!-- System backdrop -->
    <Window.SystemBackdrop>
        <MicaBackdrop Kind="Base"/>
    </Window.SystemBackdrop>
    
    <!-- Layout root -->
    <Grid>
        <!-- Resources -->
        <Grid.Resources>
            <DataTemplate x:DataType="x:String" x:Key="DefaultItemsRepeaterItemTemplate">
                <RadioButton Content="{x:Bind}"/>
            </DataTemplate>
        </Grid.Resources>
        
        <!-- Row defintions -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <!-- Title bar -->
        <controls:TitleBar x:Name="TitleBar" Grid.Row="0"/>
        
        <!-- Content -->
        <Grid MaxWidth="800" Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <TextBlock x:Name="HeaderTextBlock"
                       FontSize="24"
                       Margin="32,16,32,24"
                       Style="{StaticResource TitleTextBlockStyle}"/>

            <ScrollViewer Padding="32,0" Grid.Row="1">
                <StackPanel Orientation="Vertical" Spacing="2">
                    <!-- Appearance -->
                    <communityToolkitControls:SettingsExpander x:Name="AppearanceSettingsExpander"
                                                               HeaderIcon="{communityToolkit:FontIcon Glyph=&#xead5;}">
                        <communityToolkitControls:SettingsExpander.Items>
                            <!-- Application theme -->
                            <communityToolkitControls:SettingsCard x:Name="ApplicationThemeSettingsCard"
                                                                   ContentAlignment="Vertical"
                                                                   HeaderIcon="{communityToolkit:FontIcon Glyph=&#xe790;}"
                                                                   HorizontalContentAlignment="Left">
                                <ItemsRepeater x:Name="ApplicationThemeItemsRepeater">
                                    <ItemsRepeater.ItemTemplate>
                                        <DataTemplate x:DataType="x:String">
                                            <RadioButton Click="ApplicationThemeRadioButton_Click" Content="{x:Bind}"/>
                                        </DataTemplate>
                                    </ItemsRepeater.ItemTemplate>
                                </ItemsRepeater>
                            </communityToolkitControls:SettingsCard>

                            <!-- System backdrop -->
                            <communityToolkitControls:SettingsCard x:Name="SystemBackdropSettingsCard"
                                                                   ContentAlignment="Vertical"
                                                                   HeaderIcon="{communityToolkit:FontIcon Glyph=&#xe81e;}"
                                                                   HorizontalContentAlignment="Left">
                                <ItemsRepeater x:Name="SystemBackdropItemsRepeater"
                                               ItemTemplate="{StaticResource DefaultItemsRepeaterItemTemplate}"/>
                            </communityToolkitControls:SettingsCard>
                        </communityToolkitControls:SettingsExpander.Items>
                    </communityToolkitControls:SettingsExpander>
                    
                    <!-- Preferences -->
                    <communityToolkitControls:SettingsExpander x:Name="PreferencesSettingsExpander"
                                                               HeaderIcon="{communityToolkit:FontIcon Glyph=&#xe9f5;}">
                        <communityToolkitControls:SettingsExpander.Items>
                            <!-- Autoplay on launch -->
                            <communityToolkitControls:SettingsCard x:Name="AutoplayOnLaunchSettingsCard"
                                                                   HeaderIcon="{communityToolkit:FontIcon Glyph=&#xec57;}">
                                <ToggleSwitch IsOn="True"/>
                            </communityToolkitControls:SettingsCard>

                            <!-- Default noise preset -->
                            <communityToolkitControls:SettingsCard x:Name="DefaultNoisePresetSettingsCard"
                                                                   HeaderIcon="{communityToolkit:FontIcon Glyph=&#xe9e9;}">
                                <ComboBox x:Name="DefaultNoisePresetComboBox" SelectedIndex="0"/>
                            </communityToolkitControls:SettingsCard>

                            <!-- Language -->
                            <communityToolkitControls:SettingsCard x:Name="LanguageSettingsCard"
                                                                   HeaderIcon="{communityToolkit:FontIcon Glyph=&#xf2b7;}">
                                <ComboBox x:Name="LanguageComboBox"/>
                            </communityToolkitControls:SettingsCard>
                        </communityToolkitControls:SettingsExpander.Items>
                    </communityToolkitControls:SettingsExpander>

                    <!-- Sound -->
                    <communityToolkitControls:SettingsExpander x:Name="SoundSettingsExpander"
                                                               HeaderIcon="{communityToolkit:FontIcon Glyph=&#xe8d6;}">
                        <communityToolkitControls:SettingsExpander.Items>
                            <!-- Sample rate -->
                            <communityToolkitControls:SettingsCard x:Name="AudioSampleRateSettingsCard"
                                                                   ContentAlignment="Vertical"
                                                                   HeaderIcon="{communityToolkit:FontIcon Glyph=&#xf61f;}"
                                                                   HorizontalContentAlignment="Left">
                                <ItemsRepeater x:Name="AudioSampleRateItemsRepeater"
                                               ItemTemplate="{StaticResource DefaultItemsRepeaterItemTemplate}"/>
                            </communityToolkitControls:SettingsCard>
                        </communityToolkitControls:SettingsExpander.Items>
                    </communityToolkitControls:SettingsExpander>
                    
                    <!-- About -->
                    <communityToolkitControls:SettingsExpander x:Name="AboutSettingsExpander"
                                                               HeaderIcon="{communityToolkit:BitmapIcon Source=ms-appx:///Assets/StoreLogo.scale-100.png}">
                        <!-- Content -->
                        <communityToolkitControls:SettingsExpander.Content>
                            <TextBlock x:Name="ApplicationVersionTextBlock"
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </communityToolkitControls:SettingsExpander.Content>

                        <!-- Items -->
                        <communityToolkitControls:SettingsExpander.Items>
                            <communityToolkitControls:SettingsCard x:Name="SessionIdentifierSettingsCard"/>
                        </communityToolkitControls:SettingsExpander.Items>
                    </communityToolkitControls:SettingsExpander>

                    <!-- Hyperlink buttons -->
                    <StackPanel Margin="0,16,0,32" Spacing="4">
                        <!-- Reset preferences -->
                        <HyperlinkButton x:Name="RepositoryOnGitHubHyperlinkButton"/>

                        <!-- Send feedback -->
                        <HyperlinkButton x:Name="SendFeedbackHyperlinkButton"/>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Window>